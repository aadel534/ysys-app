(this["webpackJsonpapp-of-ice-and-fire"]=this["webpackJsonpapp-of-ice-and-fire"]||[]).push([[0],{128:function(e,a,s){},129:function(e,a,s){},130:function(e,a,s){},132:function(e,a,s){},133:function(e,a,s){},430:function(e,a,s){"use strict";s.r(a);var c=s(2),t=s(121),r=s.n(t),n=(s(128),s(47)),o=s(14),i=(s(129),s(130),s(1)),l=function(e){var a=function(a){e.setSearchParams(a.target.value)};switch(e.searchMode){case"books":return Object(i.jsxs)("div",{className:"search-params",onChange:a,children:[Object(i.jsx)("label",{children:"search by"}),Object(i.jsxs)("select",{children:[Object(i.jsx)("option",{value:"name",defaultValue:!0,children:"Name"}),Object(i.jsx)("option",{value:"fromReleaseDate",children:"Released after"}),Object(i.jsx)("option",{value:"toReleaseDate",children:"Released before"})]})]});case"characters":return Object(i.jsxs)("div",{className:"search-params",onChange:a,children:[Object(i.jsx)("label",{children:"search by"}),Object(i.jsxs)("select",{children:[Object(i.jsx)("option",{value:"name",defaultValue:!0,children:"Name"}),Object(i.jsx)("option",{value:"gender",children:"Gender"}),Object(i.jsx)("option",{value:"culture",children:"Culture"})]})]});case"houses":return Object(i.jsxs)("div",{className:"search-params",onChange:a,children:[Object(i.jsx)("label",{children:"search by"}),Object(i.jsxs)("select",{children:[Object(i.jsx)("option",{value:"name",defaultValue:!0,children:"Name"}),Object(i.jsx)("option",{value:"region",children:"Region"}),Object(i.jsx)("option",{value:"words",children:"Words"})]})]})}},d=function(e){var a="header";e.expanded?a+=" expanded":a+=" collapsed";var s=Object(c.useState)(""),t=Object(o.a)(s,2),r=t[0],n=t[1];return Object(i.jsxs)("header",{className:a,children:[Object(i.jsx)("button",{className:"filter-button",onClick:function(a){e.setExpanded(!e.expanded)},children:"FILTERS"}),Object(i.jsx)("h1",{children:"An API of Ice and Fire"}),Object(i.jsxs)("div",{className:"search-fields",children:[Object(i.jsx)(l,{searchMode:e.searchMode,setSearchParams:e.setSearchParams}),Object(i.jsx)("form",{onSubmit:function(a){a.preventDefault(),e.setSearch(r),n("")},className:"search-bar",children:Object(i.jsx)("input",{className:"search-form",placeholder:{booksname:"eg. A Game of Thrones",bookstoReleaseDate:"eg. 2005-01-01",booksfromReleaseDate:"eg. 2005-01-01",charactersname:"eg. Jon Snow",charactersgender:"eg. female",charactersculture:"eg. Braavosi",housesname:"eg. House Moss",housesregion:"eg. The North",houseswords:"eg. Winter is Coming"}[e.searchMode+e.searchParams],type:"text",value:r,onChange:function(e){n(e.target.value)}})})]})]})},u=(s(132),function(e){var a=function(a){"next-page"==a.target.id?(console.log("from ".concat(e.pageNumber," to ").concat(e.pageNumber+1)),e.setPageNumber(e.pageNumber+1)):"previous-page"==a.target.id&&1!=e.pageNumber?(console.log("from ".concat(e.pageNumber," to ").concat(e.pageNumber-1)),e.setPageNumber(e.pageNumber-1)):console.log("invalid pagination request")},s="sidebar";return e.expanded?s+=" expanded":s+=" collapsed",Object(i.jsxs)("div",{className:s,children:[Object(i.jsxs)("div",{className:"radio-box",onChange:function(a){e.setSearchMode(a.target.value)},children:[Object(i.jsxs)("div",{className:"radio-section",children:[Object(i.jsx)("input",{type:"radio",id:"books",value:"books",name:"searchmode",defaultChecked:!0}),Object(i.jsx)("label",{htmlFor:"books",children:"Books"})]}),Object(i.jsxs)("div",{className:"radio-section",children:[Object(i.jsx)("input",{type:"radio",id:"characters",value:"characters",name:"searchmode"}),Object(i.jsx)("label",{htmlFor:"characters",children:"Characters"})]}),Object(i.jsxs)("div",{className:"radio-section",children:[Object(i.jsx)("input",{type:"radio",id:"houses",value:"houses",name:"searchmode"}),Object(i.jsx)("label",{htmlFor:"houses",children:"Houses"})]})]}),Object(i.jsxs)("div",{className:"result-number",onChange:function(a){console.log(a.target.value),e.setSearchNumber(a.target.value)},children:[Object(i.jsx)("label",{children:Object(i.jsx)("p",{children:"Results per page"})}),Object(i.jsxs)("select",{children:[Object(i.jsx)("option",{children:"10"}),Object(i.jsx)("option",{children:"20"}),Object(i.jsx)("option",{children:"50"})]})]}),Object(i.jsxs)("div",{className:"pagination",children:[Object(i.jsx)("a",{href:"#",className:"page previous round",id:"previous-page",onClick:a,children:"\u2039"}),Object(i.jsxs)("p",{children:["Page ",e.pageNumber]}),Object(i.jsx)("a",{href:"#",className:"page next round",id:"next-page",onClick:a,children:"\u203a"})]})]})}),j=(s(133),s(51),s(74),function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("p",{className:"title",children:e.name}),Object(i.jsx)("p",{className:"subtitle",children:e.region}),Object(i.jsxs)("p",{className:"founded",children:["Founded: ",e.founded]}),Object(i.jsx)("p",{className:"words "+e.hasWords,children:e.words})]})})}),h=function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("p",{className:"title",children:e.name}),Object(i.jsx)("p",{className:"subtitle",children:e.gender}),Object(i.jsxs)("p",{className:"culture",children:["culture: ",e.culture]})]})})},b=function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("p",{className:"title",children:e.name}),Object(i.jsx)("p",{className:"subtitle",children:e.author}),Object(i.jsx)("p",{className:"release-date",children:function(e){var a="";return a="undefined"===typeof e?e:(a+=e.substring(0,10)).replace(/-/g,"/")}(e.releaseDate)})]})})},p=function(e){var a="feed";e.expanded?a+=" expanded":a+=" collapsed";var s=function(a){switch(e.searchMode){case"houses":return Object(i.jsx)(j,{name:a.name,region:a.region,founded:a.founded,words:a.words?a.words:"No Known Words",hasWords:a.words?"hasWords":"noWords"});case"characters":return 0===a.name.length&&(a.name=a.aliases[0]),Object(i.jsx)(h,{aliases:a.aliases,gender:a.gender,name:a.name,culture:a.culture});case"books":return Object(i.jsx)(b,{name:a.name,author:a.authors,releaseDate:a.released});default:return Object(i.jsx)("p",{children:"Loading..."})}};return 0==e.results.length?Object(i.jsx)("div",{className:a,children:Object(i.jsx)("p",{children:"No match found"})}):Object(i.jsx)("div",{className:a,children:e.results.map((function(e,a){return Object(i.jsx)("div",{className:"card",children:s(e)},a)}))})},m=s(72),x=s.n(m),O=s(122),f=(s(134),function(){var e=Object(O.a)(x.a.mark((function e(a,s,c,t,r){var n,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://anapioficeandfire.com/api/".concat(s,"?").concat(t,"=").concat(c,"&page=").concat(r,"&pageSize=").concat(a),e.next=3,fetch(n);case 3:return o=e.sent,e.next=6,o.json();case 6:if("string"!==typeof(i=e.sent)){e.next=12;break}return console.log("error catch"),e.abrupt("return",[]);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(a,s,c,t,r){return e.apply(this,arguments)}}());var g=function(){var e,a=Object(c.useState)(!0),s=Object(o.a)(a,2),t=s[0],r=s[1],l=Object(c.useState)([]),j=Object(o.a)(l,2),h=j[0],b=j[1],m=Object(c.useState)("books"),x=Object(o.a)(m,2),O=x[0],g=x[1],v=Object(c.useState)(""),N=Object(o.a)(v,2),S=N[0],k=N[1],w=Object(c.useState)("12"),C=Object(o.a)(w,2),y=C[0],M=C[1],P=Object(c.useState)("name"),R=Object(o.a)(P,2),D=R[0],W=R[1],F=Object(c.useState)(1),E=Object(o.a)(F,2),I=E[0],A=E[1];return Object(c.useEffect)((function(){f(y,O,S,D,I).then((function(e){return b(e)}))}),[y,O,S,I]),Object(i.jsxs)("div",{className:"app",children:[Object(i.jsx)(d,(e={search:S,setSearch:k,searchMode:O,expanded:t,setExpanded:r},Object(n.a)(e,"expanded",t),Object(n.a)(e,"searchParams",D),Object(n.a)(e,"setSearchParams",W),e)),Object(i.jsx)(u,{expanded:t,searchMode:O,setSearchMode:g,setSearchNumber:M,pageNumber:I,setPageNumber:A}),Object(i.jsx)(p,{expanded:t,searchMode:O,results:h})]})};r.a.render(Object(i.jsx)(g,{}),document.getElementById("root"))},51:function(e,a,s){},74:function(e,a){e.exports=function(e){return void 0===e||0===e.length?"Unknown":e}}},[[430,1,2]]]);
//# sourceMappingURL=main.151d4599.chunk.js.map